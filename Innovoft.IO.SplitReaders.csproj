<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <RepositoryUrl>https://github.com/innovoft/Innovoft.IO.SplitReaders</RepositoryUrl>
    <RepositoryType>git</RepositoryType>
    <PackageTags>csv split efficincy efficient split splitting string-manipulation splitter splitting-text efficient-algorithm</PackageTags>
    <RootNamespace>Innovoft.IO</RootNamespace>
		<Authors>Steven Retz</Authors>
		<Company>Innovoft</Company>
		<Copyright>Copyright © Innovoft 2021</Copyright>
		<Description>efficient csv splitting</Description>
		<PackageProjectUrl>https://github.com/innovoft/Innovoft.IO.SplitReaders</PackageProjectUrl>
		<PublishRepositoryUrl>true</PublishRepositoryUrl>
		<!--T4-->
		<TransformOnBuild>true</TransformOnBuild>
		<OverwriteReadOnlyOutputFiles>true</OverwriteReadOnlyOutputFiles>
		<TransformOutOfDateOnly>false</TransformOutOfDateOnly>
	</PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
    <DefineConstants>DEBUG;TRACE</DefineConstants>
  </PropertyGroup>
	
	<Target Name="SetSourceRevisionId" BeforeTargets="InitializeSourceControlInformation">
		<Exec Command="git rev-parse HEAD" ConsoleToMSBuild="True" IgnoreExitCode="False">
			<Output PropertyName="SourceRevisionId" TaskParameter="ConsoleOutput" />
		</Exec>
	</Target>
	
  <ItemGroup>
    <Compile Remove="Innovoft.IO.SplitReaders.Test.Console\**" />
    <Compile Remove="Innovoft.IO.SplitReaders.Tests\**" />
    <EmbeddedResource Remove="Innovoft.IO.SplitReaders.Test.Console\**" />
    <EmbeddedResource Remove="Innovoft.IO.SplitReaders.Tests\**" />
    <None Remove="Innovoft.IO.SplitReaders.Test.Console\**" />
    <None Remove="Innovoft.IO.SplitReaders.Tests\**" />
    <None Remove=".gitignore" />
  </ItemGroup>

  <ItemGroup>
		<T4Transform Include="SplitReader.tt">
			<Link>SplitReader.tt</Link>
			<OutputFilePath>$(ProjectDir)</OutputFilePath>
			<OutputFileName>SplitReader.tt.cs</OutputFileName>
			<LastGenOutput>$(ProjectDir)SplitReader.tt.cs</LastGenOutput>
		</T4Transform>
		<None Include="SplitReader.tt.cs">
			<AutoGen>True</AutoGen>
			<DependentUpon>SplitReader.tt</DependentUpon>
		</None>
	</ItemGroup>

	<!--T4-->
	<Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)\TextTemplating\Microsoft.TextTemplating.targets" />

</Project>
